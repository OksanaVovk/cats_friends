{"version":3,"file":"static/js/770.e7cbf570.chunk.js","mappings":"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","sources":["components/StyledImageItemBar.js","components/StyledIconButton.js","components/ContentItem.js","components/FavoriteList.js","pages/FavoritePage.js"],"sourcesContent":["import { ImageListItemBar } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\n\nconst StyledImageItemBar = styled(ImageListItemBar)(({ theme }) => ({\n  transition: \"background-color 0.3s\",\n  \"&:hover\": {\n    backgroundColor: \"rgba(0, 0, 0, 0.6)\",\n  },\n}));\n\nexport default StyledImageItemBar;\n","import { IconButton } from '@mui/material';\nimport { styled } from '@mui/material/styles';\n\nconst StyledIconButton = styled(IconButton)(({ theme }) => ({\n  transition: 'color 0.3s',\n  '&:hover': {\n    color: theme.palette.secondary.main,\n  },\n  '&.active': {\n    color: theme.palette.secondary.main,\n  },\n}));\n\nexport default StyledIconButton;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport authOperations from '../redux/auth/operations';\nimport { authSelector } from '../redux/auth/authSelectors';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { ImageListItem } from '@mui/material';\nimport StyledImageItemBar from './StyledImageItemBar';\nimport StyledIconButton from './StyledIconButton';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport { useRef } from 'react';\nimport { Skeleton } from '@mui/material';\n\nconst ContentItem = ({ img, title, id, isLoading }) => {\n  const isLoggedIn = useSelector(authSelector.selectIsLoggedIn);\n  const user = useSelector(authSelector.selectUser);\n  const likeButtonRef = useRef(null);\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const isFavorite = user.favorite.some(fv => fv.id === id);\n      likeButtonRef.current.classList.toggle('active', isFavorite);\n    }\n  }, [isLoggedIn, user, id, likeButtonRef]);\n\n  const onLikeClick = (event, id) => {\n    event.stopPropagation();\n    if (!isLoggedIn) {\n      toast.error(\n        'Only authorized users can add an image to favorites. Please log in.',\n        {\n          duration: 6000,\n          position: 'top-right',\n        }\n      );\n      navigate('/login');\n    } else {\n      dispatch(authOperations.updateFavorite({ catsId: id }));\n      likeButtonRef.current.classList.toggle('active');\n    }\n  };\n\n  return (\n    <ImageListItem key={id}>\n      {isLoading && (\n        <Skeleton\n          variant=\"rectangular\"\n          width=\"100%\"\n          height=\"200px\"\n          animation=\"wave\"\n        />\n      )}\n      <Link\n        to={`/blog#${id}`}\n        style={{\n          textDecoration: 'none',\n          cursor: 'pointer',\n          display: 'block',\n          overflow: 'hidden',\n        }}\n      >\n        <img\n          src={`${img}?w=164&h=164&fit=crop&auto=format`}\n          alt={title}\n          loading=\"lazy\"\n          style={{\n            width: '100%',\n            display: 'block',\n          }}\n        />\n      </Link>\n\n      <StyledImageItemBar\n        title={title}\n        position=\"bottom\"\n        sx={{ backgroundColor: 'rgba(0, 0, 0, 0.3)' }}\n        actionIcon={\n          <StyledIconButton\n            onClick={event => onLikeClick(event, id)}\n            aria-label={`like ${title}`}\n            sx={{ color: 'rgba(255, 255, 255, 0.8)' }}\n            ref={likeButtonRef}\n          >\n            <FavoriteIcon />\n          </StyledIconButton>\n        }\n      />\n    </ImageListItem>\n  );\n};\n\nexport default ContentItem;\n","import { useSelector } from 'react-redux';\nimport { authSelector } from '../redux/auth/authSelectors';\nimport ContentItem from './ContentItem';\n\nimport { Typography, ImageList, useMediaQuery } from '@mui/material';\n\nconst FavoriteList = () => {\n  const isXs = useMediaQuery(theme => theme.breakpoints.down('sm'));\n  const isSm = useMediaQuery(\n    theme => theme.breakpoints.up('sm') && theme.breakpoints.down('md')\n  );\n  const isMd = useMediaQuery(theme => theme.breakpoints.up('md'));\n  const getCols = () => {\n    if (isXs) return 1;\n    if (isSm) return 2;\n    if (isMd) return 3;\n    return 3;\n  };\n  const user = useSelector(authSelector.selectUser);\n  const favoriteList = user.favorite || [];\n  return (\n    <>\n      {favoriteList.length === 0 ? (\n        <Typography variant=\"h5\" sx={{ textAlign: 'center' }}>\n          You don't have any favorite images yet.\n        </Typography>\n      ) : (\n        <ImageList\n          sx={{ width: '100%' }}\n          cols={getCols()}\n          rowHeight=\"auto\"\n          gap={12}\n          variant=\"masonry\"\n        >\n          {favoriteList.map(item => (\n            <ContentItem\n              key={item.id}\n              img={item.img}\n              title={item.title}\n              id={item.id}\n            />\n          ))}\n        </ImageList>\n      )}\n    </>\n  );\n};\n\nexport default FavoriteList;\n","import { Box, Typography, Link } from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelector } from '../redux/auth/authSelectors';\nimport FavoriteList from 'components/FavoriteList';\n\nconst FavoritePage = () => {\n  const isLoggedIn = useSelector(authSelector.selectIsLoggedIn);\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: { xs: '50px 50px', lg: '100px 50px' },\n      }}\n    >\n      <Typography\n        gutterBottom\n        variant=\"h4\"\n        sx={{ marginBottom: { xs: '30px', md: '50px', lg: '70px' } }}\n      >\n        Favorite cats\n      </Typography>\n      {isLoggedIn ? (\n        <FavoriteList />\n      ) : (\n        <Typography>\n          Only authorized users can add an image to favorites. Please{' '}\n          <Link\n            component={RouterLink}\n            to=\"/login\"\n            sx={{ color: theme => theme.palette.secondary.main }}\n          >\n            log in\n          </Link>\n          .\n        </Typography>\n      )}\n    </Box>\n  );\n};\nexport default FavoritePage;\n"],"names":["styled","ImageListItemBar","theme","transition","backgroundColor","IconButton","color","palette","secondary","main","img","title","id","isLoading","isLoggedIn","useSelector","authSelector","user","likeButtonRef","useRef","navigate","useNavigate","dispatch","useDispatch","useEffect","isFavorite","favorite","some","fv","current","classList","toggle","ImageListItem","Skeleton","variant","width","height","animation","to","style","textDecoration","cursor","display","overflow","src","alt","loading","position","sx","actionIcon","onClick","event","stopPropagation","authOperations","catsId","toast","duration","onLikeClick","ref","Favorite","isXs","useMediaQuery","breakpoints","down","isSm","up","favoriteList","length","Typography","textAlign","ImageList","cols","rowHeight","gap","map","item","ContentItem","Box","flexDirection","justifyContent","alignItems","padding","xs","lg","gutterBottom","marginBottom","md","Link","component","RouterLink"],"sourceRoot":""}